{
  "timestamp": "2025-03-02T06:01:40.883Z",
  "environment": "development",
  "node_version": "v22.13.0",
  "os": {
    "platform": "win32",
    "release": "10.0.26100",
    "hostname": "DESKTOP-4M3BS17"
  },
  "smtp": {
    "host": "smtpout.secureserver.net",
    "port": "465",
    "user": "contact@onnrides.com",
    "from": "ONNRIDES <contact@onnrides.com>",
    "has_password": true
  },
  "admin_emails": [
    "contact@onnrides.com",
    "onnrides@gmail.com"
  ],
  "support_email": "contact@onnrides.com",
  "results": {
    "email_test": {
      "success": false,
      "output": "\n============================================\n       EMAIL FUNCTIONALITY TEST SCRIPT       \n============================================\n\n\u001b[35m[2025-03-02T06:01:40.988Z] [STEP]\u001b[0m 1. Checking environment variables\n\u001b[32m[2025-03-02T06:01:40.989Z] [SUCCESS]\u001b[0m All required environment variables are present\n\u001b[34m[2025-03-02T06:01:40.989Z] [INFO]\u001b[0m SMTP Configuration:\n  - Host: smtpout.secureserver.net\n  - Port: 465\n  - User: contact@onnrides.com\n  - From: ONNRIDES <contact@onnrides.com>\n  - Testing with recipient: contact@onnrides.com\n  \n\u001b[35m[2025-03-02T06:01:40.989Z] [STEP]\u001b[0m 2. Creating nodemailer transporter\n[2025-03-02 06:01:40] DEBUG Creating transport: nodemailer (6.10.0; +https://nodemailer.com/; SMTP/6.10.0[client:6.10.0])\n\u001b[35m[2025-03-02T06:01:40.995Z] [STEP]\u001b[0m 3. Verifying SMTP connection\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] Resolved smtpout.secureserver.net as 92.204.80.1 [cache miss]\n[2025-03-02 06:01:41] INFO  [r9PHPiPYF8c] Secure connection established to 92.204.80.1:465\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 220 sxb1plsmtpa01-08.prod.sxb1.secureserver.net :SMTPAUTH: ocORtSilC9iEq : ESMTP server sxb1plsmtpa01-08.prod.sxb1.secureserver.net ready\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] C: EHLO [127.0.0.1]\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-sxb1plsmtpa01-08.prod.sxb1.secureserver.net hello [103.186.129.73], secureserver.net\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-HELP\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-AUTH LOGIN PLAIN\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-SIZE 30000000\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-PIPELINING\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250-8BITMIME\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] S: 250 OK\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] SMTP handshake finished\n[2025-03-02 06:01:41] DEBUG [r9PHPiPYF8c] C: AUTH PLAIN AGNvbnRhY3RAb25ucmlkZXMuY29tAC8qIHNlY3JldCAqLw==\n[2025-03-02 06:01:43] DEBUG [r9PHPiPYF8c] S: 235 ... authentication succeeded :: ocORtSilC9iEq\n[2025-03-02 06:01:43] INFO  [r9PHPiPYF8c] User \"contact@onnrides.com\" authenticated\n[2025-03-02 06:01:43] DEBUG [r9PHPiPYF8c] C: QUIT\n\u001b[32m[2025-03-02T06:01:43.038Z] [SUCCESS]\u001b[0m SMTP connection verified successfully\n\u001b[35m[2025-03-02T06:01:43.038Z] [STEP]\u001b[0m 4. Sending test email\n[2025-03-02 06:01:43] DEBUG Sending mail using SMTP/6.10.0[client:6.10.0]\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] Resolved smtpout.secureserver.net as 92.204.80.1 [cache hit]\n[2025-03-02 06:01:43] DEBUG [r9PHPiPYF8c] S: 221 sxb1plsmtpa01-08.prod.sxb1.secureserver.net :SMTPAUTH: closing connection\n[2025-03-02 06:01:43] DEBUG [r9PHPiPYF8c] Closing connection to the server using \"end\"\n[2025-03-02 06:01:43] INFO  [r9PHPiPYF8c] Connection closed\n[2025-03-02 06:01:43] INFO  [U0yFimJe8Y] Secure connection established to 92.204.80.1:465\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 220 sxb1plsmtpa01-07.prod.sxb1.secureserver.net :SMTPAUTH: ocOTtm9OIGU97 : ESMTP server sxb1plsmtpa01-07.prod.sxb1.secureserver.net ready\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] C: EHLO [127.0.0.1]\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-sxb1plsmtpa01-07.prod.sxb1.secureserver.net hello [103.186.129.73], secureserver.net\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-HELP\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-AUTH LOGIN PLAIN\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-SIZE 30000000\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-PIPELINING\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250-8BITMIME\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] S: 250 OK\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] SMTP handshake finished\n[2025-03-02 06:01:43] DEBUG [U0yFimJe8Y] C: AUTH PLAIN AGNvbnRhY3RAb25ucmlkZXMuY29tAC8qIHNlY3JldCAqLw==\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] S: 235 ... authentication succeeded :: ocOTtm9OIGU97\n[2025-03-02 06:01:45] INFO  [U0yFimJe8Y] User \"contact@onnrides.com\" authenticated\n[2025-03-02 06:01:45] INFO  Sending message <021fec8d-c643-b098-4ea6-cf93ddb4d563@onnrides.com> to <contact@onnrides.com>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] C: MAIL FROM:<contact@onnrides.com>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] S: 250 <contact@onnrides.com> sender ok\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] C: RCPT TO:<contact@onnrides.com>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] S: 250 <contact@onnrides.com> recipient ok\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] C: DATA\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] S: 354 OK\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] From: ONNRIDES <contact@onnrides.com>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] To: contact@onnrides.com\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] Subject: Test Email 1cab782b - 2025-03-02T06:01:43.039Z\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] Message-ID: <021fec8d-c643-b098-4ea6-cf93ddb4d563@onnrides.com>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] Content-Transfer-Encoding: quoted-printable\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] Date: Sun, 02 Mar 2025 06:01:43 +0000\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] MIME-Version: 1.0\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] Content-Type: text/html; charset=utf-8\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] \n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] \n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]       <h1>Email Test</h1>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]       <p>This is a test email to verify email =\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] functionality.</p>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]       <ul>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]         <li><strong>Test ID:</strong> =\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] 1cab782b</li>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]         <li><strong>Timestamp:</strong> 2025-03-02T06:01:43.=\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] 039Z</li>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]         <li><strong>SMTP Host:</strong> smtpout.secureserver.=\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] net</li>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]         <li><strong>SMTP User:</strong> contact@onnrides.com</li>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]       </ul>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]       <p>If you received this email, the email functionality is=\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]  working correctly.</p>\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y]    =20\n[2025-03-02 06:01:45] DEBUG [U0yFimJe8Y] .\n[2025-03-02 06:01:45] INFO  [U0yFimJe8Y] <828 bytes encoded mime message (source size 815 bytes)>\n[2025-03-02 06:01:47] DEBUG [U0yFimJe8Y] S: 250 ocOTtm9OIGU97 mail accepted for delivery\n[2025-03-02 06:01:47] DEBUG [U0yFimJe8Y] Closing connection to the server using \"end\"\n\u001b[32m[2025-03-02T06:01:47.241Z] [SUCCESS]\u001b[0m Email sent successfully!\n\u001b[31m[2025-03-02T06:01:47.241Z] [ERROR]\u001b[0m Failed to send email: info is not a function\n\u001b[31m[2025-03-02T06:01:47.241Z] [ERROR]\u001b[0m Error details: {}\n",
      "error_output": ""
    },
    "admin_notification_test": {
      "success": true,
      "output": "\n============================================\n    ADMIN NOTIFICATION FUNCTIONALITY TEST    \n============================================\n\n\u001b[35m[2025-03-02T06:01:47.303Z] [STEP]\u001b[0m 1. Checking environment variables\n\u001b[32m[2025-03-02T06:01:47.304Z] [SUCCESS]\u001b[0m All required email environment variables are present\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m Admin emails configured: contact@onnrides.com, onnrides@gmail.com\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m WhatsApp configuration present\n\u001b[35m[2025-03-02T06:01:47.305Z] [STEP]\u001b[0m 2. Checking admin notification implementation\n\u001b[32m[2025-03-02T06:01:47.305Z] [SUCCESS]\u001b[0m Admin notification service found at D:\\Test\\onnrides\\lib\\notifications\\admin-notification.ts\n\u001b[32m[2025-03-02T06:01:47.305Z] [SUCCESS]\u001b[0m Admin notification service has getAdminEmails method\n\u001b[32m[2025-03-02T06:01:47.305Z] [SUCCESS]\u001b[0m Admin notification service uses process.env.ADMIN_EMAILS\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m Admin notification service has fallback admin emails\n\u001b[35m[2025-03-02T06:01:47.305Z] [STEP]\u001b[0m 3. Testing admin notification API\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m To test the admin notification API, you would need to run:\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m curl -X GET http://localhost:3000/api/admin/check-emails\n\u001b[34m[2025-03-02T06:01:47.305Z] [INFO]\u001b[0m or visit: http://localhost:3000/api/admin/check-emails in your browser\n\u001b[35m[2025-03-02T06:01:47.305Z] [STEP]\u001b[0m 4. Checking for common issues\n\u001b[34m[2025-03-02T06:01:47.326Z] [INFO]\u001b[0m Current system timezone: Asia/Calcutta\n\u001b[33m[2025-03-02T06:01:47.326Z] [WARNING]\u001b[0m System timezone is not set to Asia/Kolkata (IST), which might affect timestamps\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m Using GoDaddy SMTP server\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m GoDaddy email is better suited for business applications than Gmail\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m Make sure DNS records (SPF, DKIM) are properly configured for better deliverability\n\u001b[32m[2025-03-02T06:01:47.327Z] [SUCCESS]\u001b[0m Using correct SSL port (465) for GoDaddy\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m Email providers have rate limits:\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m GoDaddy: Typically higher rate limits than free email providers\n\u001b[34m[2025-03-02T06:01:47.327Z] [INFO]\u001b[0m Check your specific GoDaddy plan for exact sending limits\n\n============================================\n\u001b[32m[2025-03-02T06:01:47.327Z] [SUCCESS]\u001b[0m ADMIN NOTIFICATION TEST COMPLETED\n============================================\n\n",
      "error_output": ""
    },
    "api_check": null
  },
  "issues_found": []
}