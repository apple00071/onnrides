{
  "timestamp": "2025-03-02T05:41:56.042Z",
  "environment": "development",
  "node_version": "v22.13.0",
  "os": {
    "platform": "win32",
    "release": "10.0.26100",
    "hostname": "DESKTOP-4M3BS17"
  },
  "smtp": {
    "host": "smtp.gmail.com",
    "port": "465",
    "user": "applegraphicshyd@gmail.com",
    "from": "ONNRIDES <applegraphicshyd@gmail.com>",
    "has_password": true
  },
  "admin_emails": [
    "contact@onnrides.com",
    "onnrides@gmail.com"
  ],
  "support_email": "contact@onnrides.com",
  "results": {
    "email_test": {
      "success": false,
      "output": "\n============================================\n       EMAIL FUNCTIONALITY TEST SCRIPT       \n============================================\n\n\u001b[35m[2025-03-02T05:41:56.161Z] [STEP]\u001b[0m 1. Checking environment variables\n\u001b[32m[2025-03-02T05:41:56.162Z] [SUCCESS]\u001b[0m All required environment variables are present\n\u001b[34m[2025-03-02T05:41:56.162Z] [INFO]\u001b[0m SMTP Configuration:\n  - Host: smtp.gmail.com\n  - Port: 465\n  - User: applegraphicshyd@gmail.com\n  - From: ONNRIDES <applegraphicshyd@gmail.com>\n  - Testing with recipient: contact@onnrides.com\n  \n\u001b[35m[2025-03-02T05:41:56.162Z] [STEP]\u001b[0m 2. Creating nodemailer transporter\n[2025-03-02 05:41:56] DEBUG Creating transport: nodemailer (6.10.0; +https://nodemailer.com/; SMTP/6.10.0[client:6.10.0])\n\u001b[35m[2025-03-02T05:41:56.168Z] [STEP]\u001b[0m 3. Verifying SMTP connection\n[2025-03-02 05:41:56] DEBUG [M706TGbE6tk] Resolved smtp.gmail.com as 64.233.170.109 [cache miss]\n[2025-03-02 05:41:56] INFO  [M706TGbE6tk] Secure connection established to 64.233.170.109:465\n[2025-03-02 05:41:56] DEBUG [M706TGbE6tk] S: 220 smtp.gmail.com ESMTP 41be03b00d2f7-aee7ddf2438sm5877750a12.12 - gsmtp\n[2025-03-02 05:41:56] DEBUG [M706TGbE6tk] C: EHLO [127.0.0.1]\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-smtp.gmail.com at your service, [103.186.129.84]\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-SIZE 35882577\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-8BITMIME\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-ENHANCEDSTATUSCODES\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-PIPELINING\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250-CHUNKING\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 250 SMTPUTF8\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] SMTP handshake finished\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] C: AUTH PLAIN AGFwcGxlZ3JhcGhpY3NoeWRAZ21haWwuY29tAC8qIHNlY3JldCAqLw==\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 235 2.7.0 Accepted\n[2025-03-02 05:41:57] INFO  [M706TGbE6tk] User \"applegraphicshyd@gmail.com\" authenticated\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] C: QUIT\n\u001b[32m[2025-03-02T05:41:57.619Z] [SUCCESS]\u001b[0m SMTP connection verified successfully\n\u001b[35m[2025-03-02T05:41:57.619Z] [STEP]\u001b[0m 4. Sending test email\n[2025-03-02 05:41:57] DEBUG Sending mail using SMTP/6.10.0[client:6.10.0]\n[2025-03-02 05:41:57] DEBUG [ZXmmMPXULwE] Resolved smtp.gmail.com as 64.233.170.109 [cache hit]\n[2025-03-02 05:41:57] INFO  [ZXmmMPXULwE] Secure connection established to 64.233.170.109:465\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] S: 221 2.0.0 closing connection 41be03b00d2f7-aee7ddf2438sm5877750a12.12 - gsmtp\n[2025-03-02 05:41:57] DEBUG [M706TGbE6tk] Closing connection to the server using \"end\"\n[2025-03-02 05:41:57] INFO  [M706TGbE6tk] Connection closed\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 220 smtp.gmail.com ESMTP 98e67ed59e1d1-2fea67530dfsm6496551a91.8 - gsmtp\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] C: EHLO [127.0.0.1]\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-smtp.gmail.com at your service, [103.186.129.84]\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-SIZE 35882577\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-8BITMIME\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-ENHANCEDSTATUSCODES\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-PIPELINING\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250-CHUNKING\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 250 SMTPUTF8\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] SMTP handshake finished\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] C: AUTH PLAIN AGFwcGxlZ3JhcGhpY3NoeWRAZ21haWwuY29tAC8qIHNlY3JldCAqLw==\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] S: 235 2.7.0 Accepted\n[2025-03-02 05:41:59] INFO  [ZXmmMPXULwE] User \"applegraphicshyd@gmail.com\" authenticated\n[2025-03-02 05:41:59] INFO  Sending message <95de0d3a-095d-2c26-b99b-f8c8a9238648@gmail.com> to <contact@onnrides.com>\n[2025-03-02 05:41:59] DEBUG [ZXmmMPXULwE] C: MAIL FROM:<applegraphicshyd@gmail.com>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] S: 250 2.1.0 OK 98e67ed59e1d1-2fea67530dfsm6496551a91.8 - gsmtp\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] C: RCPT TO:<contact@onnrides.com>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] S: 250 2.1.5 OK 98e67ed59e1d1-2fea67530dfsm6496551a91.8 - gsmtp\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] C: DATA\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] S: 354 Go ahead 98e67ed59e1d1-2fea67530dfsm6496551a91.8 - gsmtp\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] From: ONNRIDES <applegraphicshyd@gmail.com>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] To: contact@onnrides.com\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] Subject: Test Email 733b6bc9 - 2025-03-02T05:41:57.620Z\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] Message-ID: <95de0d3a-095d-2c26-b99b-f8c8a9238648@gmail.com>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] Content-Transfer-Encoding: quoted-printable\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] Date: Sun, 02 Mar 2025 05:41:57 +0000\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] MIME-Version: 1.0\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] Content-Type: text/html; charset=utf-8\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] \n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] \n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]       <h1>Email Test</h1>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]       <p>This is a test email to verify email =\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] functionality.</p>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]       <ul>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]         <li><strong>Test ID:</strong> =\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] 733b6bc9</li>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]         <li><strong>Timestamp:</strong> 2025-03-02T05:41:57.=\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] 620Z</li>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]         <li><strong>SMTP Host:</strong> smtp.gmail.com</li>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]         <li><strong>SMTP User:</strong> applegraphicshyd@gmail.com</li>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]       </ul>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]       <p>If you received this email, the email functionality is=\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]  working correctly.</p>\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE]    =20\n[2025-03-02 05:42:00] DEBUG [ZXmmMPXULwE] .\n[2025-03-02 05:42:00] INFO  [ZXmmMPXULwE] <824 bytes encoded mime message (source size 811 bytes)>\n[2025-03-02 05:42:01] DEBUG [ZXmmMPXULwE] S: 250 2.0.0 OK  1740894120 98e67ed59e1d1-2fea67530dfsm6496551a91.8 - gsmtp\n[2025-03-02 05:42:01] DEBUG [ZXmmMPXULwE] Closing connection to the server using \"end\"\n\u001b[32m[2025-03-02T05:42:01.501Z] [SUCCESS]\u001b[0m Email sent successfully!\n\u001b[31m[2025-03-02T05:42:01.501Z] [ERROR]\u001b[0m Failed to send email: info is not a function\n\u001b[31m[2025-03-02T05:42:01.502Z] [ERROR]\u001b[0m Error details: {}\n",
      "error_output": ""
    },
    "admin_notification_test": {
      "success": true,
      "output": "\n============================================\n    ADMIN NOTIFICATION FUNCTIONALITY TEST    \n============================================\n\n\u001b[35m[2025-03-02T05:42:01.571Z] [STEP]\u001b[0m 1. Checking environment variables\n\u001b[32m[2025-03-02T05:42:01.572Z] [SUCCESS]\u001b[0m All required email environment variables are present\n\u001b[34m[2025-03-02T05:42:01.572Z] [INFO]\u001b[0m Admin emails configured: contact@onnrides.com, onnrides@gmail.com\n\u001b[34m[2025-03-02T05:42:01.573Z] [INFO]\u001b[0m WhatsApp configuration present\n\u001b[35m[2025-03-02T05:42:01.573Z] [STEP]\u001b[0m 2. Checking admin notification implementation\n\u001b[32m[2025-03-02T05:42:01.573Z] [SUCCESS]\u001b[0m Admin notification service found at D:\\Test\\onnrides\\lib\\notifications\\admin-notification.ts\n\u001b[32m[2025-03-02T05:42:01.573Z] [SUCCESS]\u001b[0m Admin notification service has getAdminEmails method\n\u001b[32m[2025-03-02T05:42:01.574Z] [SUCCESS]\u001b[0m Admin notification service uses process.env.ADMIN_EMAILS\n\u001b[34m[2025-03-02T05:42:01.574Z] [INFO]\u001b[0m Admin notification service has fallback admin emails\n\u001b[35m[2025-03-02T05:42:01.574Z] [STEP]\u001b[0m 3. Testing admin notification API\n\u001b[34m[2025-03-02T05:42:01.574Z] [INFO]\u001b[0m To test the admin notification API, you would need to run:\n\u001b[34m[2025-03-02T05:42:01.574Z] [INFO]\u001b[0m curl -X GET http://localhost:3000/api/admin/check-emails\n\u001b[34m[2025-03-02T05:42:01.574Z] [INFO]\u001b[0m or visit: http://localhost:3000/api/admin/check-emails in your browser\n\u001b[35m[2025-03-02T05:42:01.574Z] [STEP]\u001b[0m 4. Checking for common issues\n\u001b[34m[2025-03-02T05:42:01.646Z] [INFO]\u001b[0m Current system timezone: Asia/Calcutta\n\u001b[33m[2025-03-02T05:42:01.647Z] [WARNING]\u001b[0m System timezone is not set to Asia/Kolkata (IST), which might affect timestamps\n\u001b[34m[2025-03-02T05:42:01.647Z] [INFO]\u001b[0m Using Gmail SMTP server\n\u001b[33m[2025-03-02T05:42:01.647Z] [WARNING]\u001b[0m Gmail may require \"Less secure app access\" to be enabled or an app password\n\u001b[33m[2025-03-02T05:42:01.647Z] [WARNING]\u001b[0m App passwords: https://support.google.com/accounts/answer/185833\n\u001b[33m[2025-03-02T05:42:01.647Z] [WARNING]\u001b[0m Less secure access (not recommended): https://myaccount.google.com/lesssecureapps\n\u001b[33m[2025-03-02T05:42:01.647Z] [WARNING]\u001b[0m Email providers often have rate limits (Gmail: 500/day, 20/hour for free accounts)\n\n============================================\n\u001b[32m[2025-03-02T05:42:01.647Z] [SUCCESS]\u001b[0m ADMIN NOTIFICATION TEST COMPLETED\n============================================\n\n",
      "error_output": ""
    },
    "api_check": null
  },
  "issues_found": []
}